<!-- templates/doctors/password_reset_confirm.html -->
{% extends "base.html" %}

{% block content %}
<div class="min-h-screen bg-gray-100 py-6 flex flex-col justify-center sm:py-12">
  <div class="relative py-3 sm:max-w-xl sm:mx-auto">
    <div class="relative px-4 py-10 bg-white shadow-lg sm:rounded-3xl sm:p-20">
      <div class="max-w-md mx-auto">
        <div class="divide-y divide-gray-200">
          <div class="py-8 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7">
            <h2 class="text-2xl font-bold mb-8">Set New Password</h2>
            {% if validlink %}
              <form method="post" class="space-y-6">
                {% csrf_token %}
                {{ form.as_p }}
                <button type="submit" class="w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                  Set Password
                </button>
              </form>
            {% else %}
              <p>The password reset link was invalid, possibly because it has already been used. Please request a new password reset.</p>
              <p class="mt-4">
                <a href="{% url 'doctors:password_reset' %}" class="text-blue-600 hover:text-blue-800">
                  Request New Reset Link
                </a>
              </p>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
